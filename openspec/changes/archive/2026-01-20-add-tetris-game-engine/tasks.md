## 1. 项目初始化

- [x] 1.1 初始化 Go 模块（`go mod init github.com/yourusername/tetris`）
- [x] 1.2 创建项目目录结构：
  - `pkg/piece/` - 方块定义和逻辑
  - `pkg/board/` - 棋盘管理
  - `pkg/game/` - 游戏引擎和状态
  - `internal/` - 内部实现细节

## 2. 方块系统实现

- [x] 2.1 定义方块类型枚举（PieceType: I, O, T, S, Z, J, L）
- [x] 2.2 定义方块结构体（类型、位置、旋转状态、颜色）
- [x] 2.3 实现 7 种方块的初始形状定义
- [x] 2.4 实现方块旋转逻辑（顺时针 90 度）
- [x] 2.5 实现 I 方块的墙踢系统
- [x] 2.6 实现其他方块的墙踢系统
- [x] 2.7 编写方块旋转的单元测试

## 3. 棋盘系统实现

- [x] 3.1 定义棋盘结构体（宽度 10、高度 20、单元格数据）
- [x] 3.2 实现棋盘初始化
- [x] 3.3 实现单元格占用状态检查
- [x] 3.4 实现方块放置到棋盘
- [x] 3.5 实现边界碰撞检测
- [x] 3.6 实现方块碰撞检测
- [x] 3.7 编写棋盘逻辑的单元测试

## 4. 方块生成器实现

- [x] 4.1 定义 7-bag 随机生成器结构
- [x] 4.2 实现袋子填充逻辑（7 种方块各一个）
- [x] 4.3 实现袋子随机打乱（Fisher-Yates 算法）
- [x] 4.4 实现获取下一个方块
- [x] 4.5 实现预览下一个方块（不移除）
- [x] 4.6 编写生成器的单元测试

## 5. 行消除系统实现

- [x] 5.1 实现完整行检测算法
- [x] 5.2 实现多行同时检测
- [x] 5.3 实现行移除逻辑
- [x] 5.4 实现上方行下移逻辑
- [x] 5.5 编写行消除的单元测试

## 6. 得分和等级系统实现

- [x] 6.1 定义得分计算函数（1/2/3/4 行）
- [x] 6.2 实现硬降额外得分
- [x] 6.3 实现等级提升逻辑（每 10 行升一级）
- [x] 6.4 实现下落间隔计算（等级 1: 1000ms → 等级 10: 100ms）
- [x] 6.5 编写得分系统的单元测试

## 7. 游戏引擎核心实现

- [x] 7.1 定义游戏状态枚举（playing, paused, gameover）
- [x] 7.2 定义游戏结构体（棋盘、当前方块、下一个方块、状态、分数、等级）
- [x] 7.3 实现新游戏初始化
- [x] 7.4 实现方块左移操作
- [x] 7.5 实现方块右移操作
- [x] 7.6 实现方块软降操作
- [x] 7.7 实现方块硬降操作
- [x] 7.8 实现方块旋转操作
- [x] 7.9 实现暂停/恢复功能
- [x] 7.10 实现游戏结束检测

## 8. 游戏循环实现

- [x] 8.1 实现 ticker-based 游戏循环
- [x] 8.2 实现根据等级的动态下落间隔
- [x] 8.3 实现方块锁定后自动生成新方块
- [x] 8.4 实现锁定后触发行消除和得分更新
- [x] 8.5 实现游戏结束状态处理

## 9. 查询接口实现

- [x] 9.1 实现 GameState 查询接口（返回完整状态）
- [x] 9.2 实现棋盘状态查询接口
- [x] 9.3 实现当前方块查询接口
- [x] 9.4 实现下一个方块预览接口

## 10. 测试覆盖

- [x] 10.1 编写所有单元测试（目标覆盖率 > 80%）
- [x] 10.2 编写集成测试（完整游戏流程）
- [x] 10.3 测试边界情况（墙边旋转、底部碰撞）
- [x] 10.4 测试游戏结束场景
- [x] 10.5 运行 `go test -cover` 验证覆盖率

## 11. 代码质量

- [x] 11.1 运行 `go vet` 检查代码
- [x] 11.2 运行 `gofmt -s -w` 格式化代码
- [x] 11.3 添加代码文档注释
- [x] 11.4 确保所有导出函数有文档

## 12. 示例程序

- [x] 12.1 创建简单的命令行测试程序
- [x] 12.2 实现基于文本的棋盘渲染
- [x] 12.3 实现键盘输入处理（用于测试）
- [x] 12.4 验证游戏引擎可以独立运行
